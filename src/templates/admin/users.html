{% extends 'layout.html' %}

{% block content %}
<div class="card d-flex">
      <div class="card-body d-flex flex-column align-items-center justify-content-between">
          <div class="card-head">
              <div class="d-flex align-items-center">
                  <i class="ft-users card-title-icon"></i>
                  <h5 class="card-title">Users</h5>
              </div>
          </div>
          <table class="table pure-table pure-table-horizontal">
                    <thead>
                        <tr>
                            <th style="width: 38%">Username</th>
                            <th style="width: 38%">Is Admin</th>
                            <th style="width: 22%"></th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for user in users: %}
                        <tr>
                            <td>{{user.Username}}</td>
                            <td>{{user.IsAdmin}}</td>
                            <td class="d-flex">
                                {% if user.IsAdmin %}
                                <form method="post" action="{{url_for('ungrant_admin', username = user.Username)}}">
                                    <button type="submit" class="card-action">
                                        <i class="ft-thumbs-down"></i>
                                        <span>Ungrant Admin Role</span>
                                    </button>
                                </form>
                                {% else %}
                                <form method="post" action="{{url_for('grant_admin', username = user.Username)}}">
                                    <button type="submit" class="card-action">
                                        <i class="ft-thumbs-up"></i>
                                        <span>Grant Admin Role</span>
                                    </button>
                                </form>
                                {% endif %}
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
      </div>
    </div>
{% endblock %}